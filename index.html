<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goiana.net - O Portal de Goiana</title>
    <link rel="stylesheet" href="style.css">
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" /> -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

</head>
<body>

    <div class="container" id="container">

        <div id="upbar">
            <img id="logo" src="./images/Logo-pequeno-Goiana.NET_-e1649093420690.png" alt="">
            <span id="menubt" class="material-symbols-outlined">menu</span>
            <!-- <nav >
                <a href="">Início</a>
                <a href="">Anúncios</a>
                <a href="">Empregos</a>
                <a href="">Clima</a>
                <a href="">Saiba mais</a>
                <a href="">>| Entrar</a>
                <a href="" id="btanunciar">+ Anunciar</a> 


            </nav>-->
            <nav id="menuUpbar" style="display: none;">
                <a href=""><span class="material-symbols-outlined">star</span>Favoritos</a>
                <a href=""><span class="material-symbols-outlined">settings</span>Configurações</a>
                <a href=""><span class="material-symbols-outlined">mail</span>Contato</a>
            </nav>
        </div>

        <div id="bodybar">

            <!-- <div id="container-searchmain">
                <input type="search" name="searchmain" id="searchmain" placeholder="Pesquise em Goiana..."> <button>Pesquisar</button>  
            </div> -->
            <!--
            <iframe src="/@/index.html" frameborder="0"></iframe>-->

        </div>

        <div id="donwbar">
            <!-- <img src="./home_FILL0_wght400_GRAD0_opsz48 (1).svg" alt="" class="material-symbols-outlined"> -->
             <span id="homebt" class="material-symbols-outlined" title="Início">home</span>
            <span id="newsbt" class="material-symbols-outlined" title="Notícias">campaign</span>
            <span id="addbt" class="material-symbols-outlined" title="Publicar">add_box</span>
            <span id="storebt" class="material-symbols-outlined" title="Negócios">storefront</span>
            <span id="accountbt" class="material-symbols-outlined" title="Seu Site">account_circle</span>
        </div>

        <div id="Noticias" style="display: none;">
            <h1>Noticias</h1>
        </div>

        <div id="Publicar" style="display: none;">
            <h1>Publicar</h1><br>
            <h2>O que você deseja publicar?</h2><br>
            <div id="btPublicStore"><h2>Um negócio</h2></div>
            <div id="btPublicNews"><h2>Uma notícia</h2></div>
            <div id="PublicStore" style="display:none;">
                <div>
                    <input type="file" name="" id="fileInput" accept="image/jpeg, image/png, image/jpg">
                    <input type="file" name="" id="stringInput">
                    <br><input type="text" name="" id="NameStore" placeholder="Nome do negócio">
                    <br><input type="url" name="" id="Insta" placeholder="Instagram">
                    <br><input type="url" name="" id="Face" placeholder="Facebook">
                    <br><input type="tel" name="" id="Phone" placeholder="Telefone">
                    <br><input type="tel" name="" id="Whats" placeholder="WhatsApp">
                    <br><button id="btPublic">Publicar</button>
                </div>
            </div>
            <template id="PublicNews">

            </template>
            
            
        </div>

        <div id="Negocios" style="display: none;">
            <h1>Negócios</h1>
        </div>
        <div id="Perfil" style="display: none;">
            <h1>Perfil</h1>
        </div>


    </div>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/5.0.0/firebase-ui-auth__pt_br.js"></script>
    <script>       
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyBr1GezEQH5TxzmyEC-dfiRTtxHdJ8_Nt0",
          authDomain: "goiananet.firebaseapp.com",
          projectId: "goiananet",
          storageBucket: "goiananet.appspot.com",
          messagingSenderId: "665162973674",
          appId: "1:665162973674:web:628b2187d45def1ba7b293"
        };
      
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        // Initialize Cloud Storage and get a reference to the service
        const storage = firebase.storage();
      </script>

    <script>
        
        var ref = firebase.storage().ref("Arquivos")

        var fileInput = document.getElementById('fileInput')
        var stringInput = document.getElementById('stringInput')

        var NameStore = document.getElementById('NameStore')
        var Insta = document.getElementById('Insta')
        var Face = document.getElementById('Face')
        var Phone = document.getElementById('Phone')
        var Whats= document.getElementById('Whats')


        
        var btPublic = document.getElementById("btPublic")
        var arquivo 
        fileInput.onchange = function(event){
            arquivo = event.target.files[0];
            console.log("aquivo carregado")
        }

        btPublic.addEventListener('click', (e)=>{




            ref.child('arquivo1').put(arquivo).then(snapshot =>{
                console.log("snapshot", snapshot)
                ref.child('arquivo1').getDownloadURL().then(url =>{
                    console.log('string p donwload', url)

                    var objNegocio= {nome: NameStore.value, instagram: Insta.value, facebook: Face.value, telefone: Phone.value,whatsapp: Whats.value, Foto:url};

                    firebase.firestore().collection('negocios').doc().set(objNegocio).then(()=>{
                    PublicStore.style.display="none"
                    NameStore.value="";Insta.value="";Face.value="";Phone.value="";Whats.value="";fileInput.value="";
                    alert("Parabéns! Negócio Publicado!")
                    });
                });
            });

        })



    </script>
    
    <script>
                
        
        
        window.onload=desce()
        function desce(){
            window.scrollTo(0,100);
            // alert("TESTE")
        }
        
        var menubt = document.getElementById('menubt')
        var menuUpbar = document.getElementById('menuUpbar')
        var homebt = document.getElementById('homebt')
        var newsbt = document.getElementById('newsbt')
        var addbt = document.getElementById('addbt')
        var storebt = document.getElementById('storebt')
        var accountbt = document.getElementById('accountbt')
        
        /*ID de áreas e divs*/
        var container = document.getElementById('container')
        var upbar= document.getElementById('upbar')
        var bodybar = document.getElementById('bodybar')
        var donwbar = document.getElementById('donwbar')

        /*ID de Telas e divs*/
        var Noticias = document.getElementById('Noticias')
        var Publicar= document.getElementById('Publicar')
        var Negocios = document.getElementById('Negocios')
        var Perfil = document.getElementById('Perfil')

        menubt.addEventListener("click", appearMenu)
        //menuUpbar.addEventListener("click", disappearMenu)
        //upbar.addEventListener("click", disappearMenu)
        //bodybar.addEventListener("click", disappearMenu)
        //donwbar.addEventListener("click", disappearMenu)

        //menuUpbar.addEventListener("mouseleave", disappearMenu)
       // menuUpbar.addEventListener("pointerleave", disappearMenu)

        container.addEventListener("touchstart", (e)=>{
            //console.log(e)
            var ele = e.srcElement.id
            
            if(ele!=="menuUpbar"){
                disappearMenu()
                //console.log(ele)
                //alert("teste")
            }
        })

        /*
        Ativando temporariamente uma função qualquer aos botões da barra inferior
        */
        homebt.addEventListener("click", appearHome);
        newsbt .addEventListener("click", appearNews);
        addbt.addEventListener("click", appearPublic);
        storebt.addEventListener("click", appearStore);
        accountbt.addEventListener("click", appearAccount);
        /**/


        function appearMenu(){
            if(menuUpbar.style.display=="none"){
                menuUpbar.style.display="inline-block"
            }
        }

        function appearHome(){
            ocultDivs()
        }

        function disappearMenu(){
            if(menuUpbar.style.display=="inline-block"){
                menuUpbar.style.display="none"
            }
        }

        
        function ocultDivs(){
            Noticias.style.display="none"
            Publicar.style.display="none"
            Negocios.style.display="none"
            Perfil.style.display="none"
        }

        function appearNews(){
            if(Noticias.style.display=="none"){
            ocultDivs();
                Noticias.style.display="inline-block";
            }
        }

        function appearPublic(){
            if(Publicar.style.display=="none"){
            ocultDivs()
                Publicar.style.display="inline-block"
            }
        }

        function appearStore(){
            if(Negocios.style.display=="none"){
            ocultDivs()
                Negocios.style.display="inline-block"
            }
        }

        function appearAccount(){
            if(Perfil.style.display=="none"){
            ocultDivs()
                Perfil.style.display="inline-block"
            }
        }

        var btPublicStore = document.getElementById("btPublicStore")
        var PublicStore = document.getElementById("PublicStore")
        btPublicStore.addEventListener('click', (e)=>{
            //let temp = PublicStore.content.cloneNode(true)
            PublicStore.style.display="block"
            PublicStore.style.position="absolute"
            PublicStore.style.width="100vw"
            PublicStore.style.height="70vh"
            PublicStore.style.top="10vh"
            PublicStore.style.backgroundColor="white"
        })
    </script>
</body>
</html>
